import{_ as n,c as o,x as s,a as l,t as p,U as e,o as t}from"./chunks/framework.6f6f51de.js";const r="/assets/add-packages.215655e0.png",c="/assets/package-list.d1787816.png",y="/assets/select-package-version.e7558e2a.png",i="/assets/change-package-version.e13f4a62.png",F="/assets/delete-package.feef9f92.png",k=JSON.parse('{"title":"依赖管理","description":"","frontmatter":{"title":"依赖管理"},"headers":[],"relativePath":"guide/function/depend.md"}'),D={name:"guide/function/depend.md"},d={id:"frontmatter-title",tabindex:"-1"},m=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"​",-1),C=e('<p>应用开发过程中，通常有添加 <code>npm</code> 依赖的需求，<code>laf</code> 提供了在线可视化管理这些第三方包模块的方法, 用户可非常方便的进行搜索、安装、升级和卸载。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Laf云开发可安装来自 <a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">https://www.npmjs.com/</a> 的依赖，如果所需依赖无法在该网站中找到，是无法安装的</p></div><h2 id="添加依赖" tabindex="-1">添加依赖 <a class="header-anchor" href="#添加依赖" aria-label="Permalink to &quot;添加依赖&quot;">​</a></h2><p><img src="'+r+'" alt="add-packages" data-fancybox="gallery"></p><p>如上图所示，我们依次点击屏幕左下方的 <code>NPM 依赖</code>、 添加按钮, 搜索想要安装的包名（此处以 <a href="https://www.npmjs.com/package/moment" target="_blank" rel="noreferrer">moment</a> 为例），勾选后点击 <code>保存并重启</code> 按钮即可。</p><blockquote><p>安装的持续时间会根据包的大小和网络情况而不同，请耐心等待完成。</p></blockquote><p><img src="'+c+'" alt="package-list" data-fancybox="gallery"></p><p>安装完成后用户可在界面左下方 <code>依赖管理</code> 中查看已安装的依赖和版本。</p><h2 id="依赖版本选择" tabindex="-1">依赖版本选择 <a class="header-anchor" href="#依赖版本选择" aria-label="Permalink to &quot;依赖版本选择&quot;">​</a></h2><p><img src="'+y+`" alt="select-package-version" data-fancybox="gallery"></p><p>为保证用户应用稳定性，<code>Laf</code> 不会自动更新应用的 <code>Npm package</code> 版本。</p><p>添加依赖时，默认勾选为最新版<code>latest</code>，用户如需指定版本，可在安装时在版本下拉框中选择对应版本。</p><h2 id="云函数使用" tabindex="-1">云函数使用 <a class="header-anchor" href="#云函数使用" aria-label="Permalink to &quot;云函数使用&quot;">​</a></h2><p>安装完成后，即可在云函数中引入并使用。例如，创建一个云函数 <code>hello-moment</code>，并修改代码如下:</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> cloud </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@lafjs/cloud</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> moment </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">moment</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">ctx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">FunctionContext</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">momentVersion</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">moment</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">version</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">now</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">moment</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YYYY-MM-DD hh:mm:ss</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">twoHoursLater</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">moment</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hours</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YYYY-MM-DD hh:mm:ss</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">momentVersion</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">now</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">twoHoursLater</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>点击界面右方运行按钮或按下 <code>Ctrl + S</code> 保存，可看到运行结果:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">momentVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2.29.4</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">now</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2023-02-08 02:14:05</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">twoHoursLater</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2023-02-08 04:14:05</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="切换已安装依赖版本" tabindex="-1">切换已安装依赖版本 <a class="header-anchor" href="#切换已安装依赖版本" aria-label="Permalink to &quot;切换已安装依赖版本&quot;">​</a></h2><p><img src="`+i+'" alt="change-package-version" data-fancybox="gallery"></p><h2 id="卸载已安装依赖版本" tabindex="-1">卸载已安装依赖版本 <a class="header-anchor" href="#卸载已安装依赖版本" aria-label="Permalink to &quot;卸载已安装依赖版本&quot;">​</a></h2><p><img src="'+F+'" alt="delete-package" data-fancybox="gallery"></p>',21);function u(a,A,b,h,f,g){return t(),o("div",null,[s("h1",d,[l(p(a.$frontmatter.title)+" ",1),m]),C])}const q=n(D,[["render",u]]);export{k as __pageData,q as default};
